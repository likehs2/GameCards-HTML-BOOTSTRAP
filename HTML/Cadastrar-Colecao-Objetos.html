<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="css-cadastrar-colecao-objetos.css">

</head>

<body>
    <div class="menu">
        <header>
            <div class="bar-principal">
                <img id="qilab" src="QILAB.png">
                <a class="minhascolecoes-bar" href="Minhas-Colecoes.html">Minhas coleções</a>
                <a class="Sair-bar" href="login.html">Sair</a>
            </div>
        </header>

        <div class="colecao-objeto">
            <a id="mensagem-1-text">Coleção - Objetos</a>
        </div>

        <div class="atualizar">
            <a id="mensagem-text">Preencha os dados da frente e do verso do flashcard</a>
        </div>
        <div class="card-wrapper">
            <div class="card">
                <div class="card-wrapper-frente">
                    <div class="card-frente">
                        <a id="text-frente">Frente</a>
                    </div>
                    <div class="card-texto-frente">
                        <input type="text" id="text-card-frente">
                    </div>
                </div>
                <div class="card-wrapper-verso">
                    <div class="card-verso">
                        <a id="text-verso">Verso</a>
                    </div>
                    <div class="card-texto-verso">
                        <input type="text" id="text-card-verso">
                    </div>
                </div>
            </div>
        </div>
        <div class="button">
            <button id="button-1" type="submit" onclick="cadastrarCard()">Cadastrar</button>
        </div>
    </div>
</body>

<script>
    var storage;
    var index;
    var colecao;
    function cadastrarCard() {
        storage = JSON.parse(localStorage.getItem("local"));
        index = localStorage.getItem("indexcolecao");
        var colecao = storage[index];
        let objCard = {
            frente : document.getElementById("text-card-frente").value,
            verso : document.getElementById("text-card-verso").value
        }
        colecao.cards.push(objCard)
        storage[index].cards = colecao.cards;
        localStorage.setItem("local", JSON.stringify(storage))
        window.location.replace('../Projeto 1/Lista-Colecao-Objetos.html')
    }
</script>

</html>